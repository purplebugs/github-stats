<!DOCTYPE html>
<html lang="en-US">
  <head>
    <title>Github Statistics</title>
    <link href="images/favicon.ico" rel="icon" type="image/x-icon" />
    <link id="styles" href="styles/styles.css" rel="stylesheet" />
    <script type="module" src="./simple-greeting.js"></script>
    <script>
      const restorePageToDefaults = () => {
        localStorage.clear();
      };
      window.onload = restorePageToDefaults;
    </script>
    <script defer src="functions.js"></script>
    <script defer src="app.js"></script>
    <script defer>
      function toggleEightiesMode() {
        const styleEl = document.querySelector("#styles");

        const styleElAttribute = styleEl.getAttribute("href");

        if (styleElAttribute.includes("styles.css")) {
          styleEl.setAttribute("href", "styles/eighties.css");

          localStorage.setItem("mode", "eighties"); // certain page elements check local storage to render in correct mode
        } else if (styleElAttribute.includes("eighties.css")) {
          styleEl.setAttribute("href", "styles/styles.css");

          localStorage.clear(); // certain page elements check local storage to render in correct mode
        } else {
          console.log(
            "[APP LOG] Unexpected style attribute - no style change will be applied"
          );
        }
      }
    </script>
  </head>
  <body>
    <header class="header">
      <div class="container">
        <span>
          <h1 class="header__title">Github Statistics ðŸ“Š</h1>
          <simple-greeting name="Let's roll!" percent="50"></simple-greeting>
          <h2 class="header__subtitle">
            2021-05 Project by Anita Lipsky
          </h2></span
        >
        <span
          ><button id="toggle" onClick="toggleEightiesMode()">
            Toggle 1980s retro mode
          </button></span
        >
      </div>
    </header>

    <main>
      <div class="actions">
        <span>
          <label for="filter-by">Choose a language:</label>
          <select id="filter" class="dropdown">
            <option value="javascript">JavaScript</option>
            <option value="java">Java</option>
            <option value="php">PHP</option>
            <option value="dart">Dart</option>
            <option value="go">Go</option>
          </select>
        </span>

        <span id="issues-counter"></span>
      </div>

      <div id="repos" class="container"></div>
    </main>

    <footer>
      <div class="container">
        <span>
          <div>
            View code on
            <a href="https://github.com/purplebugs/github-stats">github</a> |
            View Anita's
            <a href="https://www.linkedin.com/in/anita-lipsky-506360120/"
              >Linkedin profile</a
            >
          </div>
          <div id="bonus">
            Bonus: Explore the dataset in Elasticsearch
            <a
              href="https://71f1472d328a4a94b02a7150e156553a.eu-central-1.aws.cloud.es.io:9243/goto/ad54e36220c97f7eb7e2200f48cd0aa4"
              target="_blank"
              >here</a
            >

            User: roller Password: skates
            <p>
              <a href="elasticsearch.html">Helper tool</a> to injest data into
              Elasticsearch
            </p>
          </div>
        </span>
        <span id="image"><!-- TODO add some image?--> </span>
      </div>
    </footer>
  </body>
</html>
